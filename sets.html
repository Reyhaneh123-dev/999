<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù†Ù…Ø§ÛŒØ´Ú¯Ø§Ù‡ Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒÙ‡Ø§</title>
<style>
body { font-family:'Tahoma',sans-serif; background:#e3f2fd; color:#222; padding:40px; direction:rtl; }
h2 { color:#0d47a1; }
select, input, button { margin:10px 0; padding:8px 12px; font-size:16px; }
button { border:none; border-radius:8px; cursor:pointer; background:#1976d2; color:white; transition:0.3s; }
button:hover { background:#0d47a1; }
.big-btn { display:block; width:90%; margin-top:20px; padding:12px; font-size:18px; background:#1565c0; }
.result-box { background:white; border-radius:10px; padding:15px; margin-top:10px; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
#userProfile { position:fixed; top:20px; right:20px; display:flex; align-items:center; gap:10px; }
#userCircle { width:40px; height:40px; border-radius:50%; background:#1976d2; color:white; display:flex; align-items:center; justify-content:center; font-weight:bold; }
</style>
</head>
<body>

<div id="userProfile">
  <div id="userCircle"></div>
  <div>
    <div id="userName"></div>
    <div>Ø§Ù…ØªÛŒØ§Ø²Ù‡Ø§: <span id="score">0</span></div>
  </div>
</div>

<h2>ØªØ¹Ø±ÛŒÙ Ù…Ø¬Ù…ÙˆØ¹Ù‡ A:</h2>
<label>Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø¬Ù‡Ø§Ù†ÛŒ:</label>
<select id="knownSet">
  <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯...</option>
  <option value="N">N (Ø§Ø¹Ø¯Ø§Ø¯ Ø·Ø¨ÛŒØ¹ÛŒ: 1,2,3â€¦)</option>
  <option value="W">W (Ø§Ø¹Ø¯Ø§Ø¯ Ø­Ø³Ø§Ø¨ÛŒ: 0,1,2â€¦)</option>
  <option value="Z">Z (Ø§Ø¹Ø¯Ø§Ø¯ ØµØ­ÛŒØ­: â€¦-2,-1,0,1,2â€¦)</option>
  <option value="Q">Q (Ø§Ø¹Ø¯Ø§Ø¯ Ú¯ÙˆÛŒØ§: Ù†Ù…Ø§ÛŒØ´ Ø±ÙˆÛŒ Ù…Ø­ÙˆØ± Ø§Ù…Ú©Ø§Ù†â€ŒÙ¾Ø°ÛŒØ± Ù†ÛŒØ³Øª)</option>
  <option value="I">I (Ø§Ø¹Ø¯Ø§Ø¯ Ú¯Ù†Ú¯: Ù†Ù…Ø§ÛŒØ´ Ø±ÙˆÛŒ Ù…Ø­ÙˆØ± Ø§Ù…Ú©Ø§Ù†â€ŒÙ¾Ø°ÛŒØ± Ù†ÛŒØ³Øª)</option>
  <option value="R">R (Ø§Ø¹Ø¯Ø§Ø¯ Ø­Ù‚ÛŒÙ‚ÛŒ)</option>
</select>

<label>Ø´Ø±Ø· Ù…Ø¬Ù…ÙˆØ¹Ù‡ (ÙØ§Ø±Ø³ÛŒ):</label><br>
<input id="textCondition" type="text" placeholder="Ù…Ø«Ù„Ø§Ù‹ x Ø¨Ø²Ø±Ú¯ØªØ± Ù…Ø³Ø§ÙˆÛŒ 3">

<button onclick="makeExpression()">Ù†Ù…Ø§ÛŒØ´ Ù†Ù…Ø§Ø¯ Ø±ÛŒØ§Ø¶ÛŒ</button>
<div id="mathResult" class="result-box"></div>

<button onclick="showMembers()">Ù†Ù…Ø§ÛŒØ´ Ø§Ø¹Ø¶Ø§</button>
<div id="membersBox" class="result-box"></div>

<button onclick="showVenn()">Ù†Ù…Ø§ÛŒØ´ Ù†Ù…ÙˆØ¯Ø§Ø± ÙˆÙ†</button>
<div id="vennBox" class="result-box"></div>

<button onclick="showAxis()">Ù†Ù…Ø§ÛŒØ´ Ø±ÙˆÛŒ Ù…Ø­ÙˆØ±</button>
<div id="axisBox" class="result-box"></div>

<button class="big-btn" onclick="window.location.href='operations.html'">Ø§Ù†Ø¬Ø§Ù… Ø¹Ù…Ù„ÛŒØ§Øª Ø±ÛŒØ§Ø¶ÛŒ</button>

<script>
// Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø± Ùˆ Ù¾Ø±ÙˆÙØ§ÛŒÙ„
let first = localStorage.getItem('firstName') || 'Ù†Ø§Ù…';
let last = localStorage.getItem('lastName') || 'Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ';
document.getElementById('userName').innerText = first + ' ' + last;
document.getElementById('userCircle').innerText = first.charAt(0) + last.charAt(0);

// ØªØ¨Ø¯ÛŒÙ„ Ø´Ø±Ø· ÙØ§Ø±Ø³ÛŒ Ø¨Ù‡ Ø±ÛŒØ§Ø¶ÛŒ
function parseCondition(cond){
  cond = cond.trim();
  cond = cond.replace(/Ø¨Ø²Ø±Ú¯ØªØ± Ù…Ø³Ø§ÙˆÛŒ/gi,'â‰¥')
             .replace(/Ø¨Ø²Ø±Ú¯ØªØ±/gi,'>')
             .replace(/Ú©ÙˆÚ†Ú©ØªØ± Ù…Ø³Ø§ÙˆÛŒ/gi,'â‰¤')
             .replace(/Ú©ÙˆÚ†Ú©ØªØ±/gi,'<');
  // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† x Ø§Ú¯Ø± Ù†Ø¯Ø§Ø±Ø¯
  if(!/^x/.test(cond)) cond = 'x ' + cond;
  return cond;
}

// Ù†Ù…Ø§ÛŒØ´ Ù†Ù…Ø§Ø¯ Ø±ÛŒØ§Ø¶ÛŒ
function makeExpression(){
  let set = document.getElementById("knownSet").value;
  let cond = document.getElementById("textCondition").value;
  if(!set){ alert("Ù„Ø·ÙØ§Ù‹ ÛŒÚ© Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯"); return; }
  if(!cond){ alert("Ù„Ø·ÙØ§Ù‹ Ø´Ø±Ø· Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯"); return; }
  let expr = `{ ${parseCondition(cond)} âˆˆ ${set} }`;
  document.getElementById("mathResult").innerText = "Ù†Ù…Ø§ÛŒØ´ Ø±ÛŒØ§Ø¶ÛŒ: " + expr;
}

// Ù†Ù…Ø§ÛŒØ´ Ø§Ø¹Ø¶Ø§
function showMembers(){
  let set = document.getElementById("knownSet").value;
  let box = document.getElementById("membersBox");
  if(set==='R'||set==='I'||set==='Q'){ box.innerText="Ù†Ù…Ø§ÛŒØ´ Ø§Ø¹Ø¶Ø§ Ø§Ù…Ú©Ø§Ù†â€ŒÙ¾Ø°ÛŒØ± Ù†ÛŒØ³Øª."; return; }
  if(set==='N'){ box.innerText="â€¦ , 1, 2, 3 â€¦"; }
  else if(set==='W'){ box.innerText="0, 1, 2, â€¦"; }
  else if(set==='Z'){ box.innerText="â€¦, -3,-2,-1,0,1,2,3 â€¦"; }
  else{ box.innerText="Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯"; }
}

// Ù†Ù…ÙˆØ¯Ø§Ø± ÙˆÙ†
function showVenn(){
  let set = document.getElementById("knownSet").value;
  let box = document.getElementById("vennBox");
  if(set==='R'||set==='I'||set==='Q'){ box.innerText="Ù†Ù…Ø§ÛŒØ´ Ù†Ù…ÙˆØ¯Ø§Ø± ÙˆÙ† Ø§Ù…Ú©Ø§Ù†â€ŒÙ¾Ø°ÛŒØ± Ù†ÛŒØ³Øª."; return; }
  box.innerText="ğŸ”µ Ù†Ù…ÙˆØ¯Ø§Ø± ÙˆÙ†: Ø®Ø· â†’ Ø¯Ø§ÛŒØ±Ù‡ â†’ Ø§Ø¹Ø¶Ø§";
}

// Ù…Ø­ÙˆØ± Ø¹Ø¯Ø¯ÛŒ
function showAxis(){
  let set = document.getElementById("knownSet").value;
  let box = document.getElementById("axisBox");
  if(set==='Q'||set==='I'){ box.innerText="Ù†Ù…Ø§ÛŒØ´ Ø±ÙˆÛŒ Ù…Ø­ÙˆØ± Ø§Ù…Ú©Ø§Ù†â€ŒÙ¾Ø°ÛŒØ± Ù†ÛŒØ³Øª."; return; }
  if(set==='R'){ box.innerText="Ù…Ø­ÙˆØ± Ø­Ù‚ÛŒÙ‚ÛŒ: Ø®Ø· Ø¨Ø§ ÙÙ„Ø´ØŒ Ù‡Ø§Ø´ÙˆØ± Ù…Ø­Ø¯ÙˆØ¯Ù‡ØŒ Ø¯Ø§ÛŒØ±Ù‡ Ù¾Ø±/ØªÙˆØ®Ø§Ù„ÛŒ"; return; }
  if(set==='N'||set==='W'||set==='Z'){ box.innerText="Ù…Ø­ÙˆØ± Ø¹Ø¯Ø¯ÛŒ: Ø¯Ø§ÛŒØ±Ù‡â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø¹Ø¯Ø¯ØŒ Ù…Ø³ØªØ·ÛŒÙ„ Ù…Ø­Ø¯ÙˆØ¯Ù‡"; return; }
  box.innerText="Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯";
}
</script>

</body>
</html>
